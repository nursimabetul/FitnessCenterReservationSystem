@using Microsoft.AspNetCore.Identity
@using FitnessCenterReservationSystem.Models
@inject SignInManager<ApplicationUser> SignInManager

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>@ViewData["Title"] - Fitness Center</title>

    <!-- AdminLTE CSS -->
    <link rel="stylesheet" href="~/dist/css/adminlte.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />

    @RenderSection("Styles", required: false)
</head>

<body class="@(SignInManager.IsSignedIn(User)
    ? "layout-fixed sidebar-expand-lg bg-body-tertiary"
    : "bg-body-tertiary pt-5")">

    <div class="app-wrapper">

     

        @if (SignInManager.IsSignedIn(User))
        {
            <!-- NAVBAR -->
            @await Html.PartialAsync("_Navbar")

            <!-- SIDEBAR -->
            @await Html.PartialAsync("_Sidebar")
        }
        else
        {
            <!-- Public kullanıcı menüsü -->
            @await Html.PartialAsync("_PublicNavbar")
        }


        <!-- MAIN CONTENT -->
        <main class="app-main">
            <div class="container-fluid pt-3">
				@await Html.PartialAsync("_Notification")    
				@RenderBody()

                @if (!SignInManager.IsSignedIn(User))
                {
                    @await Html.PartialAsync("_PublicFooter")
                }
            </div>
        </main>

    </div>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Tüm .alert sınıflı mesajlar
            const alerts = document.querySelectorAll(".alert");

            alerts.forEach(alert => {
                // 2 saniye sonra kaybolmaya başla
                setTimeout(() => {
                    alert.style.transition = "opacity 0.5s ease"; // yumuşak geçiş
                    alert.style.opacity = "0"; // görünürlüğü azalt

                    // 0.5 saniye sonra DOM'dan kaldır
                    setTimeout(() => {
                        if (alert.parentNode) {
                            alert.parentNode.removeChild(alert);
                        }
                    }, 500);

                }, 2000); // 2 saniye görünür kalır
            });
        });
    </script>



</body>
<!-- AdminLTE JS -->
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/dist/js/adminlte.js"></script>
@await RenderSectionAsync("Scripts", required: false)
</html>

@{
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString();
}

<nav class="mt-2">
    <ul class="nav flex-column">

        <!-- Dashboard -->
        <li class="nav-item">
            <a href="/Admin" class="nav-link @(currentController == "Admin" ? "active" : "")">
                <i class="bi bi-speedometer2 me-2"></i> Dashboard
            </a>
        </li>

        <!-- Yönetim -->
        <li class="nav-item">
            <a class="nav-link d-flex justify-content-between align-items-center"
               data-bs-toggle="collapse"
               href="#yonetimMenu">
                <span><i class="bi bi-gear me-2"></i> Yönetim</span>
                <i class="bi bi-chevron-down small"></i>
            </a>

            <div class="collapse @(currentController == "AdminOnay" ? "show" : "")" id="yonetimMenu">
                <ul class="nav flex-column ms-3">
                    <li class="nav-item">
                        <a href="/AdminOnay" class="nav-link @(currentController == "AdminOnay" ? "active" : "")">
                            <i class="bi bi-person-check me-2"></i> Kullanıcı Onay
                        </a>
                    </li>
                </ul>
            </div>
        </li>

        <!-- Üyeler -->
        <li class="nav-item">
            <a href="/Uyeler" class="nav-link @(currentController == "Uyeler" ? "active" : "")">
                <i class="bi bi-people me-2"></i> Üyeler
            </a>
        </li>

        <!-- Randevular -->
        <li class="nav-item">
            <a class="nav-link d-flex justify-content-between align-items-center"
               data-bs-toggle="collapse"
               href="#randevularMenu">
                <span><i class="bi bi-calendar-check me-2"></i> Randevularım</span>
                <i class="bi bi-chevron-down small"></i>
            </a>

            <div class="collapse @(
                 new[] { "TumRandevular", "BekleyenRandevular", "OnaylananRandevular", "TamamlananRandevular", "ReddedilenRandevular", "IptalEdilenRandevular" }
                 .Contains(currentAction) ? "show" : "")" id="randevularMenu">
                <ul class="nav flex-column ms-3">
                    <li>
                        <a href="/Admin/TumRandevular" class="nav-link @(currentAction == "TumRandevular" ? "active" : "")">
                            <i class="bi bi-card-list me-2"></i> Tüm Randevular
                        </a>
                    </li>
                    <li>
                        <a href="/Admin/BekleyenRandevular" class="nav-link @(currentAction == "BekleyenRandevular" ? "active" : "")">
                            <i class="bi bi-hourglass-split me-2"></i> Bekleyen
                        </a>
                    </li>
                    <li>
                        <a href="/Admin/OnaylananRandevular" class="nav-link @(currentAction == "OnaylananRandevular" ? "active" : "")">
                            <i class="bi bi-check-circle me-2"></i> Onaylı
                        </a>
                    </li>
                    <li>
                        <a href="/Admin/TamamlananRandevular" class="nav-link @(currentAction == "TamamlananRandevular" ? "active" : "")">
                            <i class="bi bi-check-lg me-2"></i> Tamamlanan
                        </a>
                    </li>
                    <li>
                        <a href="/Admin/ReddedilenRandevular" class="nav-link @(currentAction == "ReddedilenRandevular" ? "active" : "")">
                            <i class="bi bi-x-square me-2"></i> Reddedilen
                        </a>
                    </li>
                    <li>
                        <a href="/Admin/IptalEdilenRandevular" class="nav-link @(currentAction == "IptalEdilenRandevular" ? "active" : "")">
                            <i class="bi bi-x-circle me-2"></i> İptal Edilenler
                        </a>
                    </li>
                </ul>
            </div>
        </li>


        <!-- Raporlar -->
        <li class="nav-item">
            <a class="nav-link d-flex justify-content-between align-items-center"
               data-bs-toggle="collapse"
               href="#raporlarMenu">
                <span><i class="bi bi-file-earmark-bar-graph me-2"></i> Raporlar (API)</span>
                <i class="bi bi-chevron-down small"></i>
            </a>

            <div class="collapse @(currentController == "Raporlama" ? "show" : "")" id="raporlarMenu">
                <ul class="nav flex-column ms-3">
                    <li class="nav-item">
                        <a href="/Raporlama/Antrenorler" class="nav-link">
                            <i class="bi bi-person-workspace me-2"></i> Antrenörler
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/Raporlama/MusaitAntrenorler" class="nav-link">
                            <i class="bi bi-person-check me-2"></i> Müsait Antrenörler
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/Raporlama/UyeRandevulari" class="nav-link">
                            <i class="bi bi-calendar2-event me-2"></i> Üye Randevuları
                        </a>
                    </li>
                </ul>
            </div>
        </li>

        <!-- Tanımlamalar -->
        <li class="nav-item">
            <a class="nav-link d-flex justify-content-between align-items-center"
               data-bs-toggle="collapse"
               href="#tanimMenu">
                <span><i class="bi bi-list-check me-2"></i> Tanımlamalar</span>
                <i class="bi bi-chevron-down small"></i>
            </a>

            <div class="collapse @(
                 new[] { "Salon", "Hizmet", "UzmanlikAlani", "AntrenorUzmanlik", "AntrenorHizmet", "AntrenorCalismaSaati" }
                 .Contains(currentController) ? "show" : "")" id="tanimMenu">

                <ul class="nav flex-column ms-3">
                    <li><a href="/Salon" class="nav-link"><i class="bi bi-building me-2"></i> Salonlar</a></li>
                    <li><a href="/Hizmet" class="nav-link"><i class="bi bi-grid-3x3-gap me-2"></i> Hizmetler</a></li>
                    <li><a href="/UzmanlikAlani" class="nav-link"><i class="bi bi-patch-check me-2"></i> Uzmanlık Alanları</a></li>
                    <li><a href="/AntrenorUzmanlik" class="nav-link"><i class="bi bi-award me-2"></i> Antrenör Uzmanlık</a></li>
                    <li><a href="/AntrenorHizmet" class="nav-link"><i class="bi bi-card-checklist me-2"></i> Antrenör Hizmetleri</a></li>
                    <li><a href="/AntrenorCalismaSaati" class="nav-link"><i class="bi bi-clock me-2"></i> Çalışma Saatleri</a></li>
                </ul>
            </div>
        </li>

        <!-- Güncel -->
        <li class="nav-item">
            <a class="nav-link d-flex justify-content-between align-items-center"
               data-bs-toggle="collapse"
               href="#guncelMenu">
                <span><i class="bi bi-newspaper me-2"></i> Güncel</span>
                <i class="bi bi-chevron-down small"></i>
            </a>

            <div class="collapse @(
                                 new[] { "Haber", "Duyuru", "Kampanya" }.Contains(currentController) ? "show" : "")" id="guncelMenu">

                <ul class="nav flex-column ms-3">
                    <li><a href="/Haber" class="nav-link"><i class="bi bi-newspaper me-2"></i> Haberler</a></li>
                    <li><a href="/Duyuru" class="nav-link"><i class="bi bi-megaphone me-2"></i> Duyurular</a></li>
                    <li><a href="/Kampanya" class="nav-link"><i class="bi bi-tag me-2"></i> Kampanyalar</a></li>
                </ul>
            </div>
        </li>

        <!-- Profil -->
        <li class="nav-item">
            <a href="/Account/Profile" class="nav-link @(currentController == "Account" ? "active" : "")">
                <i class="bi bi-person me-2"></i> Profilim
            </a>
        </li>

    </ul>
</nav>
